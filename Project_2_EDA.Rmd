---
title: "Project 2 - Exploratory data analysis using a supplied dataset"
author: "J. Hamski"
date: "March 7, 2015"
output: html_document
---
***
##Project Requirements
1. Perform an exploratory data analysis (EDA) on the dataset and draw conclusions
2. Use ggplot2
3. Deliver report in Markdown on RPubs  
  
> Packages used: dplyr, tidyr, moments, ggplot2, RColorBrewer, grid, scales
  
##EDA Resources

From the [EDA Wikipedia Page](http://en.wikipedia.org/wiki/Exploratory_data_analysis), the objectives of EDA are:  
1. Suggest hypotheses about the causes of observed phenomena  
2. Assess assumptions on which statistical inference will be based  
3. Support the selection of appropriate statistical tools and techniques  
4. Provide a basis for further data collection through surveys or experiments  

I relied on [*Experimental Design for Behavioral and Social Sciences, Ch. 4, EDA (Seltman, H; 2013)*](http://www.stat.cmu.edu/~hseltman/309/Book/) for guidance on the statistical underpinnings of EDA. I referenced [Tutorial 3: Graphics and Exploratory Data Analysis in R (Piennar, J. and Miller, T.; 2013)](http://bio.fsu.edu/miller/docs/Tutorials/Tutorial3_Graphics.pdf) and [Introduction to R and Exploratory data analysis (Simpson, G; 2006)](http://cc.oulu.fi/~jarioksa/opetus/metodi/eda.pdf) for R-specific EDA techniques. 

##Data Preparation

The data for this project were provided in a PDF. So, I performed the following steps to prepare it for loading into R.  
1. Created a screenshot (data_table.png) of the table only.    
2. Uploaded the screenshot image to Online OCR http://www.onlineocr.net/  
3. Converted data table using Online OCR to a MS Excel .xlsx file  
4. Spot-checked the data and fixed one error where the OCR read an "8" as "a"  
5. Saved the data as 'OCR_data_table.csv'    
**data_table.png**  
![](data_table.png)   
This method worked well for this small image. A privately hosted or desktop OCR solution would be better if the data needs to be kept private. Additional QA/QC would be required for a larger dataset. 

```{r, echo=FALSE, warning=FALSE, error=FALSE, message=FALSE}
library(dplyr)
library(tidyr)
```
```{r}
input <- read.csv("OCR_data_table.csv", skip = 1)
DF.1 <-data.frame(input[1:2])
colnames(DF.1) <-c("x", "y")
DF.2 <-data.frame(input[3:4])
colnames(DF.2) <-c("x", "y")
DF.3 <-data.frame(input[5:6])
colnames(DF.3) <-c("x", "y")
DF.4 <-data.frame(input[7:8])
colnames(DF.4) <-c("x", "y")

DF.all<- cbind(DF.1, DF.2, DF.3, DF.4)
```
***
#SECTION 1 - Univariate and Bivariate Analysis
***
##Dataframe 1 - "I"
### Univariate Summary Statistics and Non-graphical EDA
**Summary Statistics**
Both parameters in DF.1 are numeric variables. Their summary statistics are:
```{r}
summary(DF.1)
```
X and Y have a similar range, with a lower bound of approximately 4 and an upper bound of approximately 14 and 10, respectively. The central tendency of the two parameters diverge by approximately 1.5 units with x being the larger mean (9 and 7.5, respectively). For both x and y the median and mean are the same or equal, indicating a symmetrical distribution. 

```{r}
sd(DF.1$x)
sd(DF.1$y)
```
The dispersion of the two parameters as indicated by the standard deviation is x = 3.3 units and y = 2.0 units.   

**IQR - Interquartile Range**

As stated in Seltman, 2013: *"The IQR is a more robust measure of spread than the variance or standard deviation. Any number of values in the top or bottom quarters of the data can be moved any distance from the median without affecting the IQR at all. More practically, a few extreme outliers have little or no effect on the IQR."* The IQC for DF.1 is:
```{r}
(IQR.x <- quantile(DF.1$x)[4] - quantile(DF.1$x)[2])
(IQR.x <- quantile(DF.1$y)[4] - quantile(DF.1$y)[2])
```

**Skewedness and Krutosis**
While the comparison of mean and median indicated the distributions of x and y would have little to no skew, I calculate it here to be comprehensive. Kurtosis measures the "peakedness" of the distribution relative to the Gaussian distribution. 
```{r, warning=FALSE}
library(moments)

skewness(DF.1$x)
kurtosis(DF.1$x) 
skewness(DF.1$y)
kurtosis(DF.1$y)
```
Both measures of kurtosis are less than 3, indicating platykurtic distributions less peaked than a Gaussian distribution. 

###Bivariate Non-Graphical EDA  
Here I investigate the two variables x and y together using non-graphical techniques.   
**Covariance and Correlation**
```{r}
cov(DF.1)
cor(DF.1)
```
The covariance between x and y is 5.5. This positive covariance values suggest that when one measurement is above the mean the other will probably also be above the mean, and vice versa. The correlation between x and y is 0.82, indicating a somewhat strong positive correlation between the two variables. 

### Graphical EDA 
This EDA uses my own "house theme". The default graphics for ggplot2 are stellar, but by incorporating your own theme you can make it easier to identify and place your own work. 
```{r, warning=FALSE}
library(ggplot2)
library(RColorBrewer)
library(scales)
library(grid)
```
**Jim's House Theme**
```{r}
#Jim's House Theme
JHT <- function(){
# Generate the colors for the chart procedurally with RColorBrewer
  palette <- brewer.pal("Greys", n=9)
  color.background = palette[1]
  color.grid.major = palette[3]
  color.axis.text = palette[6]
  color.axis.title = palette[9]
  color.title = palette[9]
  
  # Begin construction of chart
  theme_bw(base_size=9) +
    
    # Set the entire chart region to a light gray color
    theme(panel.background=element_rect(fill=color.background, color=color.background)) +
    theme(plot.background=element_rect(fill=color.background, color=color.background)) +
    theme(panel.border=element_rect(color=color.background)) +
    
    # Format the grid
    theme(panel.grid.major=element_line(color=color.grid.major,size=.25, linetype = "longdash")) + 
    theme(axis.line = element_line(color=color.grid.major, size = .5))+
    theme(panel.grid.minor=element_blank()) +
    theme(axis.ticks=element_blank()) +
    
    # Format the legend, but hide by default
    theme(legend.position="none") +
    theme(legend.background = element_rect(fill=color.background)) +
    theme(legend.text = element_text(size=7,color=color.axis.title)) +
    
    # Set title and axis labels, and format these and tick marks
    theme(plot.title=element_text(color=color.title, size=10, vjust=1.25)) +
    theme(axis.text.x=element_text(size=12,color=color.axis.text)) +
    theme(axis.text.y=element_text(size=12,color=color.axis.text)) +
    theme(axis.title.x=element_text(size=14,color=color.axis.title)) +
    theme(axis.title.y=element_text(size=14,color=color.axis.title)) +
    
    # Plot margins
    theme(plot.margin = unit(c(0.35, 0.2, 0.3, 0.35), "cm"))
}
```

Basic Scatterplot for Category 1

```{r}
split.screen(figs=c(2,1))
split.screen(c(1,2), screen=1)

screen(1)
plot(DF.1)

screen(3)
hist(DF.1$x)
screen(4)
hist(DF.1$y)

screen(1)
plot(DF.1)
screen(2)
hist(DF.1$x)
screen(3)
hist(DF.1$y)
screen(4)
plot(DF.1)
close.screen(all = TRUE)

```





```{r}
ggplot(data = DF.1, aes(x = x, y = y)) + geom_point() #+ JHT()
ggplot(data = DF.1) + stat_density(aes(x = x, y=min(x)+diff(range(x))), geom="line") #+ JHT()

stat_density(data = DF.1, x = x, geom = "area", aes(x = x, y = y))
```

```{r}
ggplot(DF.1, aes(x = y), binwidth = 2) + 
       geom_histogram(aes(y = ..density..), fill = 'red', alpha = 0.5) + 
       geom_density(colour = 'blue') + xlab(expression(bold('Simulated Samples'))) + 
       ylab(expression(bold('Density')))
```




##Dataframe 2 - "II"
###Summary Statistics and Non-graphical EDA

###Bivariate Non-Graphical EDA

### Graphical EDA 






***
SECTION 2 MULTIVARIATE ANALYSIS  
***

